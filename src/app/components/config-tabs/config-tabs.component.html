<mat-horizontal-stepper (selectionChange)="changeStep($event)" [linear]="true">
  <mat-step label="Paso 1 - Empresas" [completed]="isActive1 === true ? true : false">

    <app-results-table 
    [(tableNumber)]="tableNumber" 
    [filteredAlly]="selectedAlly" 
    [filteredCompany]="selectedCompany"
    (nextStepWithRegistry)="continueToSecondStep($event)"
    (createAllyCompanyConfig)="createAllyCompanyConfig($event)"
    ></app-results-table>

    <app-table-overview 
    [allyAuditTableNumber]="allyAuditTableNumber"
    [(objAllyCompanyAudit)]="objAllyCompanyAuditCollection"
    [selectedCompany]="selectedCompany"
    [selectedAlly]="selectedAlly"
    ></app-table-overview>

  </mat-step>
  <mat-step label="Paso 2 - Socio Comercial" [completed]="isActive2 === true ? true : false">
    <div class="btn-wrapper">
      <button  class="btn btn-primary" matStepperPrevious>Volver<i class="bi bi-arrow-left-circle"></i></button>
      <button  class="btn btn-primary" (click)="handleTradersModified()">Siguiente<i class="bi bi-arrow-right-circle"></i></button>
    </div>

    <app-second-step-table 
    [registry] = "registryToConfigure"
    (objTradersToConfig)="handleObjTradersToConfig($event)"
    (objToCompare)="handleObjToCompare($event)"
    (hasTradersSelected)="handleHasTraders($event)"
    ></app-second-step-table>

    <app-table-overview 
    [configurationDone]='configurationDone'
    [allyAuditTableNumber]="allyAuditTableNumber"
    [selectedCompany]="selectedCompany"
    [selectedAlly]="selectedAlly"></app-table-overview>

  </mat-step>

  <mat-step label="Paso 3 - Productos" [completed]="isActive3 === true ? true : false">

    <app-table-third-step
    [registry]="registryToConfigure"
    [traders]="objForPointSale"
    [configurationDone]="configurationDone"
    (previousStep)="handlePreviousStep($event)"
    (loadedMasterfile)="handleLoadedMasterfile($event)"
    (downloadCsv)="handleDownload($event)"
    ></app-table-third-step>

    <app-table-overview 
    [configurationDone]='configurationDone'
    [allyAuditTableNumber]="allyAuditTableNumber"
    [selectedCompany]="selectedCompany"
    [selectedAlly]="selectedAlly"></app-table-overview>

  </mat-step>
</mat-horizontal-stepper>